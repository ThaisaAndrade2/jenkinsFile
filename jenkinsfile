pipeline {
    agent any

    environment {
        APP_TOKEN = 'meu_token_pessoal'
    }

    options {
    
    }

    triggers {
        gitPullRequest {
            sourceBranch: 'main',
            credentialsId: ''
        }
    }

    stages {
        stage ('Start') {
            steps {
                echo 'Starting the pipeline'
            }
        }

        stage ('Print the token'){
            steps {
                echo APP_TOKEN
            }
        }
    }

    post {
        success {
            echo 'The pipeline is running successfully'
        }

        failure {
            echo 'Error in running the pipeline'
        }

        always {
            echo 'Finished the pipeline execution'
        }
    }
}